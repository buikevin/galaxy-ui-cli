---
title: Tree | C√¢y Ph√¢n C·∫•p
description: Hierarchical tree structure component | Component c·∫•u tr√∫c c√¢y ph√¢n c·∫•p
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

The **Tree** component displays hierarchical data in a tree structure with support for checkable nodes, expand/collapse, custom icons, and node selection. Inspired by Ant Design's Tree component.

**Tree** l√† component hi·ªÉn th·ªã d·ªØ li·ªáu ph√¢n c·∫•p d∆∞·ªõi d·∫°ng c·∫•u tr√∫c c√¢y v·ªõi h·ªó tr·ª£ cho c√°c node c√≥ th·ªÉ ƒë√°nh d·∫•u, m·ªü r·ªông/thu g·ªçn, icon t√πy ch·ªânh v√† ch·ªçn node. L·∫•y c·∫£m h·ª©ng t·ª´ component Tree c·ªßa Ant Design.

## Features | T√≠nh NƒÉng

- **Hierarchical structure** | **C·∫•u tr√∫c ph√¢n c·∫•p**: Display nested data
- **Checkable nodes** | **Node c√≥ th·ªÉ ƒë√°nh d·∫•u**: Multi-select with checkboxes
- **Expand/Collapse** | **M·ªü r·ªông/Thu g·ªçn**: Toggle node visibility
- **Node selection** | **Ch·ªçn node**: Single node selection
- **Custom icons** | **Icon t√πy ch·ªânh**: Custom icons for nodes
- **Search/Filter** | **T√¨m ki·∫øm/L·ªçc**: Filter tree nodes
- **Drag and drop** | **K√©o v√† th·∫£**: Reorder nodes (optional)
- **Dark mode** | **Ch·∫ø ƒë·ªô t·ªëi**: Full dark mode support

## Installation | C√†i ƒê·∫∑t

<Tabs>
  <TabItem label="CLI">
    ```bash
    npx galaxy-ui-cli@latest add tree
    ```
  </TabItem>
  <TabItem label="Manual | Th·ªß C√¥ng">
    Copy the component code from the [source](https://github.com/buikevin/galaxy-ui-cli/tree/main/packages/angular/src/lib/tree).
  </TabItem>
</Tabs>

## Usage | S·ª≠ D·ª•ng

### Basic Usage | S·ª≠ D·ª•ng C∆° B·∫£n

```typescript
import { Component, signal } from '@angular/core';
import { TreeComponent } from '@/components/ui/tree';

@Component({
  selector: 'app-example',
  standalone: true,
  imports: [TreeComponent],
  template: `
    <g-tree
      [data]="treeData"
      (nodeClick)="onNodeClick($event)">
    </g-tree>
  `
})
export class ExampleComponent {
  treeData = [
    {
      key: '1',
      title: 'Documents',
      children: [
        {
          key: '1-1',
          title: 'Work',
          children: [
            { key: '1-1-1', title: 'Report.pdf' },
            { key: '1-1-2', title: 'Presentation.pptx' }
          ]
        },
        {
          key: '1-2',
          title: 'Personal',
          children: [
            { key: '1-2-1', title: 'Resume.pdf' }
          ]
        }
      ]
    },
    {
      key: '2',
      title: 'Images',
      children: [
        { key: '2-1', title: 'photo1.jpg' },
        { key: '2-2', title: 'photo2.jpg' }
      ]
    }
  ];

  onNodeClick(node: any) {
    console.log('Clicked node:', node);
  }
}
```

### With Checkboxes | V·ªõi Checkbox

```typescript
@Component({
  template: `
    <div class="space-y-4">
      <g-tree
        [data]="treeData"
        [checkable]="true"
        [checkedKeys]="checkedKeys()"
        (checkedChange)="onCheckedChange($event)">
      </g-tree>

      <div class="p-4 bg-gray-100 dark:bg-gray-800 rounded">
        <p class="font-semibold mb-2">Selected items | M·ª•c ƒë√£ ch·ªçn:</p>
        <ul class="list-disc list-inside">
          @for (key of checkedKeys(); track key) {
            <li>{{ key }}</li>
          }
        </ul>
      </div>
    </div>
  `
})
export class CheckableTreeComponent {
  checkedKeys = signal<string[]>([]);

  treeData = [
    {
      key: 'features',
      title: 'Features | T√≠nh nƒÉng',
      children: [
        { key: 'auth', title: 'Authentication | X√°c th·ª±c' },
        {
          key: 'ui',
          title: 'UI Components | Component giao di·ªán',
          children: [
            { key: 'ui-forms', title: 'Forms' },
            { key: 'ui-tables', title: 'Tables' },
            { key: 'ui-charts', title: 'Charts' }
          ]
        },
        { key: 'api', title: 'API Integration | T√≠ch h·ª£p API' }
      ]
    },
    {
      key: 'settings',
      title: 'Settings | C√†i ƒë·∫∑t',
      children: [
        { key: 'general', title: 'General | Chung' },
        { key: 'security', title: 'Security | B·∫£o m·∫≠t' },
        { key: 'notifications', title: 'Notifications | Th√¥ng b√°o' }
      ]
    }
  ];

  onCheckedChange(checkedKeys: string[]) {
    this.checkedKeys.set(checkedKeys);
  }
}
```

### With Custom Icons | V·ªõi Icon T√πy Ch·ªânh

```typescript
@Component({
  template: `
    <g-tree
      [data]="treeData"
      [expandedKeys]="expandedKeys()">
      <ng-template #nodeTemplate let-node>
        <div class="flex items-center gap-2">
          <span class="text-lg">{{ getIcon(node) }}</span>
          <span>{{ node.title }}</span>
          @if (node.badge) {
            <span class="ml-2 px-2 py-0.5 text-xs rounded bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200">
              {{ node.badge }}
            </span>
          }
        </div>
      </ng-template>
    </g-tree>
  `
})
export class CustomIconTreeComponent {
  expandedKeys = signal(['1', '2']);

  treeData = [
    {
      key: '1',
      title: 'src',
      type: 'folder',
      children: [
        {
          key: '1-1',
          title: 'components',
          type: 'folder',
          children: [
            { key: '1-1-1', title: 'button.ts', type: 'typescript', badge: 'Modified' },
            { key: '1-1-2', title: 'input.ts', type: 'typescript' }
          ]
        },
        {
          key: '1-2',
          title: 'styles',
          type: 'folder',
          children: [
            { key: '1-2-1', title: 'main.css', type: 'css' }
          ]
        }
      ]
    },
    {
      key: '2',
      title: 'public',
      type: 'folder',
      children: [
        { key: '2-1', title: 'index.html', type: 'html' },
        { key: '2-2', title: 'logo.png', type: 'image' }
      ]
    },
    { key: '3', title: 'package.json', type: 'json' },
    { key: '4', title: 'README.md', type: 'markdown' }
  ];

  getIcon(node: any): string {
    const icons = {
      folder: 'üìÅ',
      typescript: 'üìò',
      javascript: 'üìú',
      css: 'üé®',
      html: 'üìÑ',
      json: '‚öôÔ∏è',
      markdown: 'üìù',
      image: 'üñºÔ∏è'
    };
    return icons[node.type] || 'üìé';
  }
}
```

### With Search | V·ªõi T√¨m Ki·∫øm

```typescript
@Component({
  template: `
    <div class="space-y-4">
      <input
        type="search"
        [(ngModel)]="searchQuery"
        (ngModelChange)="onSearch()"
        placeholder="Search... | T√¨m ki·∫øm..."
        class="w-full border rounded px-3 py-2">

      <g-tree
        [data]="filteredData()"
        [expandedKeys]="expandedKeys()"
        [autoExpandParent]="true">
        <ng-template #nodeTemplate let-node>
          <span [innerHTML]="highlightText(node.title)"></span>
        </ng-template>
      </g-tree>

      @if (filteredData().length === 0) {
        <p class="text-center text-gray-500 py-8">
          No results found | Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£
        </p>
      }
    </div>
  `
})
export class SearchableTreeComponent {
  searchQuery = '';
  expandedKeys = signal<string[]>([]);

  originalData = [
    {
      key: '1',
      title: 'Team Alpha',
      children: [
        { key: '1-1', title: 'John Doe - Developer' },
        { key: '1-2', title: 'Jane Smith - Designer' }
      ]
    },
    {
      key: '2',
      title: 'Team Beta',
      children: [
        { key: '2-1', title: 'Bob Johnson - Manager' },
        { key: '2-2', title: 'Alice Brown - Developer' }
      ]
    }
  ];

  filteredData = signal(this.originalData);

  onSearch() {
    const query = this.searchQuery.toLowerCase();

    if (!query) {
      this.filteredData.set(this.originalData);
      this.expandedKeys.set([]);
      return;
    }

    const filterTree = (nodes: any[]): any[] => {
      return nodes.map(node => {
        const children = node.children ? filterTree(node.children) : [];
        const matches = node.title.toLowerCase().includes(query);

        if (matches || children.length > 0) {
          return { ...node, children };
        }
        return null;
      }).filter(Boolean);
    };

    const filtered = filterTree(this.originalData);
    this.filteredData.set(filtered);

    // Auto-expand all matching nodes
    const getAllKeys = (nodes: any[]): string[] => {
      return nodes.flatMap(node => [
        node.key,
        ...(node.children ? getAllKeys(node.children) : [])
      ]);
    };
    this.expandedKeys.set(getAllKeys(filtered));
  }

  highlightText(text: string): string {
    if (!this.searchQuery) return text;

    const regex = new RegExp(`(${this.searchQuery})`, 'gi');
    return text.replace(regex, '<mark class="bg-yellow-200 dark:bg-yellow-800">$1</mark>');
  }
}
```

### Organization Chart | S∆° ƒê·ªì T·ªï Ch·ª©c

```typescript
@Component({
  template: `
    <div class="space-y-4">
      <h2 class="text-2xl font-bold">Company Structure | C∆° C·∫•u C√¥ng Ty</h2>

      <g-tree
        [data]="orgData"
        [defaultExpandAll]="true">
        <ng-template #nodeTemplate let-node>
          <div class="flex items-center gap-3 py-2">
            <img
              [src]="node.avatar"
              [alt]="node.name"
              class="w-10 h-10 rounded-full">
            <div>
              <p class="font-semibold">{{ node.name }}</p>
              <p class="text-sm text-gray-600 dark:text-gray-400">{{ node.position }}</p>
            </div>
          </div>
        </ng-template>
      </g-tree>
    </div>
  `
})
export class OrganizationChartComponent {
  orgData = [
    {
      key: 'ceo',
      name: 'John Doe',
      position: 'CEO',
      avatar: '/avatars/john.jpg',
      children: [
        {
          key: 'cto',
          name: 'Jane Smith',
          position: 'CTO | Gi√°m ƒë·ªëc C√¥ng ngh·ªá',
          avatar: '/avatars/jane.jpg',
          children: [
            {
              key: 'dev-lead',
              name: 'Bob Johnson',
              position: 'Development Lead | Tr∆∞·ªüng nh√≥m Ph√°t tri·ªÉn',
              avatar: '/avatars/bob.jpg',
              children: [
                { key: 'dev-1', name: 'Alice Brown', position: 'Senior Developer', avatar: '/avatars/alice.jpg' },
                { key: 'dev-2', name: 'Charlie Wilson', position: 'Developer', avatar: '/avatars/charlie.jpg' }
              ]
            }
          ]
        },
        {
          key: 'cmo',
          name: 'Sarah Davis',
          position: 'CMO | Gi√°m ƒë·ªëc Marketing',
          avatar: '/avatars/sarah.jpg',
          children: [
            { key: 'marketing-1', name: 'Tom Anderson', position: 'Marketing Manager', avatar: '/avatars/tom.jpg' },
            { key: 'marketing-2', name: 'Lisa Garcia', position: 'Content Creator', avatar: '/avatars/lisa.jpg' }
          ]
        }
      ]
    }
  ];
}
```

### File Explorer | Tr√¨nh Duy·ªát File

```typescript
@Component({
  template: `
    <div class="border rounded-lg overflow-hidden">
      <div class="bg-gray-100 dark:bg-gray-800 px-4 py-3 border-b">
        <h3 class="font-semibold">File Explorer | Tr√¨nh Duy·ªát File</h3>
      </div>

      <div class="p-4">
        <g-tree
          [data]="fileTree"
          [checkable]="true"
          [checkedKeys]="selectedFiles()"
          (checkedChange)="onFileSelect($event)"
          (nodeClick)="onFileClick($event)">
          <ng-template #nodeTemplate let-node>
            <div class="flex items-center justify-between flex-1">
              <div class="flex items-center gap-2">
                <span class="text-lg">{{ getFileIcon(node.type) }}</span>
                <span>{{ node.title }}</span>
                @if (node.size) {
                  <span class="text-sm text-gray-500">{{ node.size }}</span>
                }
              </div>
              @if (!node.children) {
                <div class="flex gap-1">
                  <button
                    (click)="downloadFile(node); $event.stopPropagation()"
                    class="p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"
                    title="Download">
                    ‚¨áÔ∏è
                  </button>
                  <button
                    (click)="shareFile(node); $event.stopPropagation()"
                    class="p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded"
                    title="Share">
                    üîó
                  </button>
                </div>
              }
            </div>
          </ng-template>
        </g-tree>
      </div>

      @if (selectedFiles().length > 0) {
        <div class="bg-gray-50 dark:bg-gray-800 px-4 py-3 border-t">
          <div class="flex justify-between items-center">
            <span>Selected {{ selectedFiles().length }} file(s)</span>
            <div class="flex gap-2">
              <button class="btn btn-sm btn-secondary">Download All</button>
              <button class="btn btn-sm btn-danger">Delete</button>
            </div>
          </div>
        </div>
      }
    </div>
  `
})
export class FileExplorerComponent {
  selectedFiles = signal<string[]>([]);

  fileTree = [
    {
      key: 'projects',
      title: 'Projects',
      type: 'folder',
      children: [
        {
          key: 'website',
          title: 'Website',
          type: 'folder',
          children: [
            { key: 'index', title: 'index.html', type: 'html', size: '2.5 KB' },
            { key: 'style', title: 'style.css', type: 'css', size: '1.8 KB' },
            { key: 'script', title: 'script.js', type: 'javascript', size: '3.2 KB' }
          ]
        },
        {
          key: 'app',
          title: 'Mobile App',
          type: 'folder',
          children: [
            { key: 'main', title: 'main.ts', type: 'typescript', size: '5.1 KB' },
            { key: 'config', title: 'config.json', type: 'json', size: '0.8 KB' }
          ]
        }
      ]
    },
    {
      key: 'documents',
      title: 'Documents',
      type: 'folder',
      children: [
        { key: 'report', title: 'Report.pdf', type: 'pdf', size: '1.2 MB' },
        { key: 'proposal', title: 'Proposal.docx', type: 'word', size: '856 KB' }
      ]
    }
  ];

  getFileIcon(type: string): string {
    const icons = {
      folder: 'üìÅ',
      html: 'üìÑ',
      css: 'üé®',
      javascript: 'üìú',
      typescript: 'üìò',
      json: '‚öôÔ∏è',
      pdf: 'üìï',
      word: 'üìù'
    };
    return icons[type] || 'üìé';
  }

  onFileSelect(selectedKeys: string[]) {
    this.selectedFiles.set(selectedKeys);
  }

  onFileClick(node: any) {
    console.log('Clicked:', node);
  }

  downloadFile(file: any) {
    console.log('Download:', file);
  }

  shareFile(file: any) {
    console.log('Share:', file);
  }
}
```

## Props | Thu·ªôc T√≠nh

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `data` | `TreeNode[]` | `[]` | Tree data <br/> D·ªØ li·ªáu c√¢y |
| `checkable` | `boolean` | `false` | Show checkboxes <br/> Hi·ªÉn th·ªã checkbox |
| `checkedKeys` | `string[]` | `[]` | Checked node keys <br/> Kh√≥a node ƒë√£ ƒë√°nh d·∫•u |
| `expandedKeys` | `string[]` | `[]` | Expanded node keys <br/> Kh√≥a node ƒë√£ m·ªü r·ªông |
| `selectedKeys` | `string[]` | `[]` | Selected node keys <br/> Kh√≥a node ƒë√£ ch·ªçn |
| `defaultExpandAll` | `boolean` | `false` | Expand all nodes by default <br/> M·ªü r·ªông t·∫•t c·∫£ node m·∫∑c ƒë·ªãnh |
| `autoExpandParent` | `boolean` | `false` | Auto expand parent nodes <br/> T·ª± ƒë·ªông m·ªü r·ªông node cha |
| `selectable` | `boolean` | `true` | Allow node selection <br/> Cho ph√©p ch·ªçn node |
| `nodeTemplate` | `TemplateRef` | - | Custom node template <br/> Template node t√πy ch·ªânh |

### TreeNode Interface

```typescript
interface TreeNode {
  key: string;            // Unique key | Kh√≥a duy nh·∫•t
  title: string;          // Node title | Ti√™u ƒë·ªÅ node
  children?: TreeNode[];  // Child nodes | Node con
  disabled?: boolean;     // Disable node | V√¥ hi·ªáu h√≥a node
  selectable?: boolean;   // Can be selected | C√≥ th·ªÉ ch·ªçn
  checkable?: boolean;    // Can be checked | C√≥ th·ªÉ ƒë√°nh d·∫•u
  [key: string]: any;     // Custom properties | Thu·ªôc t√≠nh t√πy ch·ªânh
}
```

### Outputs | S·ª± Ki·ªán

| Event | Type | Description |
|-------|------|-------------|
| `nodeClick` | `TreeNode` | Node clicked <br/> Node ƒë∆∞·ª£c nh·∫•p |
| `checkedChange` | `string[]` | Checked keys changed <br/> Kh√≥a ƒë√£ ƒë√°nh d·∫•u thay ƒë·ªïi |
| `expandedChange` | `string[]` | Expanded keys changed <br/> Kh√≥a ƒë√£ m·ªü r·ªông thay ƒë·ªïi |
| `selectedChange` | `string[]` | Selected keys changed <br/> Kh√≥a ƒë√£ ch·ªçn thay ƒë·ªïi |

## Accessibility | Kh·∫£ NƒÉng Ti·∫øp C·∫≠n

- Uses semantic HTML with proper ARIA roles
- Keyboard navigation (Arrow keys, Enter, Space)
- Focus management and visible indicators
- Screen reader friendly labels
- Accessible expand/collapse controls

## Best Practices | Th·ª±c H√†nh T·ªët Nh·∫•t

1. **Lazy loading** | **T·∫£i l∆∞·ªùi**: Load children on expand for large trees

2. **Virtual scrolling** | **Cu·ªôn ·∫£o**: For trees with many nodes

3. **Search and filter** | **T√¨m ki·∫øm v√† l·ªçc**: Help users find nodes quickly

4. **Clear hierarchy** | **Ph√¢n c·∫•p r√µ r√†ng**: Use indentation and visual cues

5. **Action buttons** | **N√∫t thao t√°c**: Provide context actions for nodes

6. **Preserve state** | **Gi·ªØ tr·∫°ng th√°i**: Remember expanded/selected nodes

## Related Components | Components Li√™n Quan

- [List](./list) - Flat list view | Ch·∫ø ƒë·ªô xem danh s√°ch ph·∫≥ng
- [Table](./table) - Tabular data | D·ªØ li·ªáu d·∫°ng b·∫£ng
- [Tag](./tag) - Labels for tree nodes | Nh√£n cho node c√¢y
